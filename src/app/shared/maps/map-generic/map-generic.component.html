<ng-container *ngIf="loadedMap !== undefined; else loading">
  
  <svg #mapRef id="map-container" [attr.xlmns]="loadedMap.xlmns" attr.viewBox="{{ loadedMap.viewBox.x }} {{ loadedMap.viewBox.y }} {{loadedMap.viewBox.width}} {{ loadedMap.viewBox.height }}"
  [class.panning]="mouseStates.isPanned"
  (wheel)="wheelEvent($event)" (pointerdown)="panningBegin($event)" (pointerup)="panningEnd($event)" (pointerleave)="pointerMove($event)"  (pointermove)="pointerMove($event)">
    <g #groupRef id="scaled-map-container" >
      <path *ngFor="let path of loadedMap.contentPath" id="{{ path.id }}" (click)="areaClick($event, path.id)"
        class="{{ path.class }}" [attr.d]="path.d" />
      <g *ngFor="let groupe of loadedMap.contentGroupe" id="{{ groupe.id }}"  class="{{ groupe.class }}" (click)="areaClick($event, groupe.id)">
        <path *ngFor="let groupePath of groupe.contentPath" id="{{ groupePath.id }}" 
          class="{{ groupePath.class }}" [attr.d]="groupePath.d" />
      </g>
    </g>
  </svg>
  <div id="map-control-box">
    <div>
      <button id="zoom-in" class="rounded-t" (pointerdown)="scaleClick(true)" (pointerup)="zoomStop()" (pointerleave)="zoomStop()">
        <img id="zoom-in-icon" src="./assets/icons/plus.svg" alt="zoom in button" class="mx-0">
      </button>
      <hr>
      <button id="zoom-out" class="rounded-b" (pointerdown)="scaleClick(false)" (pointerup)="zoomStop()" (pointerleave)="zoomStop()">
        <img id="zoom-out-icon" src="./assets/icons/minus.svg" alt="zoom out button" class="mx-0">
      </button>
    </div>
    <div  >
      <button id="reset-transform" (click)="resetTransform()">
        <img id="reset-transform-icon" src="./assets/icons/current_location.svg" alt="reset transform button" class="mx-0">
      </button>
    </div>
  </div>
  
</ng-container>

<ng-template #loading>
  <div id="loading"></div>
</ng-template>