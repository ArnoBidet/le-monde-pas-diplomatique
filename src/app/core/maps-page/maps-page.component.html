<div id="filter-container" class="mx-2 flex flex-col self-start">
    <div class="flex items-center justify-start p-2 gap-1 rounded cursor-pointer" matRipple matRippleColor="#FFFFFF60" (click)="displayFilter = !displayFilter">
        <img src="./assets/icons/filter.svg" class="svg-current-color">
        <span class="flex items-center">Filter</span>
    </div>
    <ng-container *ngIf="displayFilter">
        <div class="p-2">
            <ng-container *ngFor="let tagFilter of tagFilterList">
                <input type="checkbox" name="{{tagFilter.label| i18n}}" [checked]="tagFilter.active" (change)="tagFilter.active = !tagFilter.active">
                <label for="{{tagFilter.label| i18n}}"> {{tagFilter.label| i18n}}</label><br>
            </ng-container>
        </div>
    </ng-container>
    
</div>
<div class=" mx-4 flex flex-col gap-8">
    <ng-container *ngFor="let tag of mapTagsList">
        <ng-container *ngIf="isTagFiltered(tag)">
            <div>
                <p class="uppercase font-medium">{{ tag.displayName | i18n }}</p>
                <ng-container *ngIf="tagHasMap(tag,mapIndexEntryList) else noMapForTag">
                    <div class="flex gap-2  flex-wrap">
                        <ng-container *ngFor="let entry of mapIndexEntryList">
                            <ng-container *ngIf="entryHasTag(entry,tag.id) && entry.available">
                                <div class="current-bg-color flex rounded overflow-hidden relative" style="height: 10rem; width: 15rem; background-blend-mode: multiply;">
                                    <div class="tumbnail-container top-0 right-0 absolute w-full h-full"
                                    style="mask-image: linear-gradient(to bottom left, black,15%, transparent);;
                                    -webkit-mask-image: linear-gradient(to bottom left, black,15%, transparent);">
                                        <img class="svg-current-color w-auto h-full  absolute top-0 right-0 mx-0"
                                        style="transform: translate(20%, -10%) rotate(-5deg);max-width: 20rem;"
                                        src="./assets/maps/map_thumbnail/{{entry.mapIdentifier}}.png">
                                    </div>
                                    <span class="current-color opacity-100 mt-auto font-thin mx-2 mb-2 text-xl">{{entry.mapDisplayName | i18n}}</span>
                                </div>
                            </ng-container>
                        </ng-container>
                    </div>
                </ng-container>
            </div>
            <ng-template #noMapForTag >
                No map available for tag : {{ tag.displayName | i18n }}
            </ng-template>
        </ng-container>
    </ng-container>
</div>
<app-map-generic></app-map-generic>